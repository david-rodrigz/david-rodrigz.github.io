---
const { title, children = [], lastItem = false } = Astro.props;
---

<li class="relative group py-4">
  <button
    class="flex items-center justify-between w-full lg:w-auto lg:justify-start lg:gap-1 text-sm text-slate-600 hover:text-black focus:outline-none"
    tabindex="0"
    aria-haspopup="true"
    aria-expanded="false"
    type="button"
  >
    {title}
    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
  <ul
    class:list={[
      "absolute left-0 top-full min-w-[180px] bg-white border border-gray-200 rounded shadow-lg opacity-0 pointer-events-none translate-y-2 transition-all duration-200 z-20",
      "group-hover:opacity-100 group-hover:pointer-events-auto group-hover:translate-y-0",
      lastItem ? "right-0 left-auto" : ""
    ]}
  >
    {children.map(child => (
      <li>
        <a
          href={child.path}
          class="block px-4 text-sm text-slate-700 hover:bg-slate-100"
        >
          {child.title}
        </a>
      </li>
    ))}
  </ul>
</li>
<!-- Children Nav Links -->
<!-- <ul class="isOpen ? 'block' : 'hidden'"> -->
<ul class="hidden">
    {children.map(child => (
        <li>
            <a
            href={child.path}
            class="flex lg:px-3 py-4 items-center text-sm text-slate-600 hover:text-black">
            <span> &emsp; {child.title}</span>
            </a>
        </li>
    ))}
</ul>